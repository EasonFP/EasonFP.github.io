<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tifaã®åœ£è¯æ ‘ğŸ„</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        body {
            background-color: beige;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* è®¾ç½®åœ£è¯æ ‘å’Œæ ‘çš„æ ·å¼ */
        .xmas,
        .tree {
            display: flex;
            align-items: center;
            flex-direction: column;
        }

        /* è®¾ç½®æ ‘çš„ä½ç½®ä¸ºç›¸å¯¹å®šä½ */
        .tree {
            position: relative;
        }

        /* è®¾ç½®è£…é¥°ç›’å­çš„æ ·å¼ */
        .box {
            width: 50px;
            height: 50px;
            position: absolute;
            border-radius: 50px;
            left: calc(var(--x)*10px);
            top: calc(var(--y)*10px);
            
            transition: background-color 1s ease; /* 1ç§’å†…å¹³æ»‘è¿‡æ¸¡é¢œè‰² */
        }

        /* è®¾ç½®æ ‘å¹²çš„æ ·å¼ */
        .trunk {
            width: 50px;
            height: 70px;
            background-color: #9e6328;
        }

        /* è®¾ç½®æ ‘å¶çš„æ ·å¼ */
        .trees {
            height: 50px;
            border-radius: 50px;
        }

        /* è®¾ç½®æ ‘å¶å’Œæ ‘å¹²çš„é˜´å½± */
        .tree div,
        .trunk {
            box-shadow: 10px 10px 22px #1c4d1c;
        }

        /* è®¾ç½®ä¸åŒç±»å‹çš„æ ‘å¶é¢œè‰² */
        .tree div:nth-child(4n+1) {
            background: #2d6359;
        }

        .tree div:nth-child(4n+2) {
            background: #32776a;
        }

        .tree div:nth-child(4n+3) {
            background: #268b4c;
        }

        .tree div:nth-child(4n+4) {
            background: #459763;
        }
    </style>
</head>

<body>

    <div class="xmas">
        <div class="tree">
            <div class="ball">
                <div class="box" style="--x:25;--y:8;"></div>
                <div class="box" style="--x:15;--y:23;"></div>
                <div class="box" style="--x:30;--y:23;"></div>
                <div class="box" style="--x:10;--y:30;"></div>
                <div class="box" style="--x:20;--y:28;"></div>
                <div class="box" style="--x:35;--y:33;"></div>
                <div class="box" style="--x:17;--y:12;"></div>
                <div class="box" style="--x:24;--y:17;"></div>
            </div>
        </div>
        <div class="trunk"></div>
    </div>
    <!-- style="--x:25;--y:8"è¿™äº›æ˜¯ç”¨æ¥å®šä¹‰æ¯ä¸ªè£…é¥°æ–¹å—çš„ä½ç½®çš„ã€‚å…¶ä¸­ï¼Œ--x å’Œ --y æ˜¯è‡ªå®šä¹‰çš„ CSS å˜é‡ï¼Œç”¨æ¥è¡¨ç¤ºæ–¹å—çš„æ°´å¹³å’Œå‚ç›´ä½ç½®ã€‚é€šè¿‡åœ¨æ¯ä¸ªè£…é¥°æ–¹å—çš„ style å±æ€§ä¸­è®¾ç½®ä¸åŒçš„ --x å’Œ --y å€¼ï¼Œæ¥å®ç°æ¯ä¸ªæ–¹å—çš„å…·ä½“ä½ç½®ã€‚ä¾‹å¦‚ï¼Œstyle="--x:25;--y:8" è¡¨ç¤ºè¿™ä¸ªæ–¹å—çš„æ°´å¹³ä½ç½®æ˜¯ 25ï¼Œå‚ç›´ä½ç½®æ˜¯ 8ã€‚
    å¦å¤–ï¼Œleft: calc(var(--x)*10px) æ˜¯ç”¨æ¥å°† --x çš„å€¼è½¬æ¢æˆå®é™…çš„åƒç´ å€¼ã€‚é€šè¿‡ calc() å‡½æ•°ï¼Œå¯ä»¥è¿›è¡Œæ•°å­¦è¿ç®—ï¼Œè¿™é‡Œå°† --x çš„å€¼ä¹˜ä»¥ 10pxï¼Œå¾—åˆ°æœ€ç»ˆçš„ left å€¼ã€‚è¿™æ ·å°±å¯ä»¥æ ¹æ® --x çš„å€¼åŠ¨æ€åœ°è°ƒæ•´æ¯ä¸ªè£…é¥°æ–¹å—çš„æ°´å¹³ä½ç½®ï¼Œä½¿å¾—å®ƒä»¬èƒ½å¤Ÿæ­£ç¡®åœ°æ’åˆ—åœ¨åœ£è¯æ ‘ä¸Šã€‚
    è¿™äº› CSS å˜é‡å’Œè®¡ç®—æ–¹å¼çš„ä½¿ç”¨ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡æ”¹å˜ --x å’Œ --y çš„å€¼ï¼Œæ¥çµæ´»åœ°è°ƒæ•´æ¯ä¸ªè£…é¥°æ–¹å—çš„ä½ç½®ï¼Œä»è€Œå®ç°äº†åœ£è¯æ ‘è£…é¥°çš„ç¾è§‚æ•ˆæœã€‚ -->
</body>

<script>
    // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
    document.addEventListener("DOMContentLoaded", function () {
        const colors = ["#f4d348", "#37799e", "#bb3e39", "#e388b1"];
        const boxes = document.querySelectorAll(".box");

        function updateBoxColors() {
            let colorCount = {};

            boxes.forEach(box => {
                let randomColor;

                do {
                    randomColor = colors[Math.floor(Math.random() * colors.length)];
                } while (colorCount[randomColor] >= 2);

                box.style.backgroundColor = randomColor;
                colorCount[randomColor] = (colorCount[randomColor] || 0) + 1;
            });
        }

        // å®šæœŸæ›´æ–°é¢œè‰²
        setInterval(updateBoxColors, 1000); // æ¯3ç§’æ›´æ–°ä¸€æ¬¡é¢œè‰²
    });

    // åˆ›å»ºæ ‘å¶
    for (let i = 1; i <= 8; i++) {
        let tree = document.createElement('div');
        tree.classList.add('trees');
        tree.style.width = (i * 60) + 'px';
        document.querySelector('.tree').appendChild(tree);
    }
</script>

</html>
